    body { transition: background-color 0.3s, color 0.3s; margin: 0; font-family: sans-serif; overflow-x: hidden; padding-bottom: 120px; }
    .top-bar { display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; background: #f8f9fa; border-bottom: 1px solid #ddd; position: sticky; top: 0; z-index: 100; }
    .dark-mode .top-bar { background: #1a1a1a; border-color: #333; }
    .main-layout { padding: 20px; }
    .stats-card { margin-bottom: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 16px; background: linear-gradient(145deg, #ffffff, #f0f0f0); box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
    .dark-mode .stats-card { border-color: #444; background: linear-gradient(145deg, #2c2c2c, #1a1a1a); }
    .stats-summary { display: flex; justify-content: center; gap: 40px; margin-bottom: 15px; border-bottom: 1px solid rgba(0,0,0,0.05); padding-bottom: 10px; }
    .stats-charts-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    .stats-box { display: flex; flex-direction: column; align-items: center; text-align: center; padding: 10px; border-radius: 12px; }
    .stats-label { font-size: 11px; font-weight: bold; margin-bottom: 6px; }
    .stats-fraction { font-size: 12px; font-weight: bold; margin-top: 4px; }
    .template-btn { 
  padding: 6px 10px; 
  border-radius: 4px; 
  border: 1px solid #2196f3; 
  background: #e3f2fd; 
  color: #2196f3; 
  cursor: pointer; 
  font-size: 12px; 
  font-weight: bold; 
}
.dark-mode .template-btn { background: #0d47a1; color: #fff; border-color: #1565c0; }
    
    .selection-bar { position: fixed; bottom: 0; left: 0; right: 0; background: #ff5252; color: white; padding: 15px; display: flex; gap: 10px; align-items: center; justify-content: space-around; z-index: 1100; box-shadow: 0 -4px 10px rgba(0,0,0,0.2); }
    .selection-checkbox { width: 22px; height: 22px; cursor: pointer; accent-color: #ff5252; }
    .batch-btn { background: rgba(255,255,255,0.2); border: 1px solid white; color: white; padding: 6px 12px; border-radius: 6px; font-size: 12px; cursor: pointer; font-weight: bold; }
    .batch-btn:hover { background: rgba(255,255,255,0.4); }

    .control-panel { margin-bottom: 15px; width: 100%; border: 1px solid #ddd; padding: 10px; border-radius: 12px; box-sizing: border-box; }
    .dark-mode .control-panel { border-color: #333; }
    .filter-row { display: flex; flex-wrap: wrap; gap: 8px; align-items: center; margin-bottom: 10px; }
    .sort-select { padding: 6px; border-radius: 6px; font-size: 12px; border: 1px solid #ccc; flex: 1; min-width: 120px; }
    .dark-mode .sort-select { background: #333; color: white; border-color: #555; }
    .btn-item { position: relative; margin: 3px; padding: 6px 12px; border: 1px solid #ccc; border-radius: 6px; background: #fff; cursor: pointer; font-size: 13px; }
    .dark-mode .btn-item { background: #333; color: #fff; border-color: #555; }
    .btn-item.active { background: #4caf50; color: #fff; border-color: #4caf50; }
    .btn-delete-small { position: absolute; top: -8px; right: -8px; width: 18px; height: 18px; background: #ff5252; color: white; border-radius: 50%; font-size: 10px; display: flex; align-items: center; justify-content: center; border: 2px solid #fff; }
    
    .csv-btn, .import-label, .settings-btn { padding: 6px 10px; border-radius: 4px; border: 1px solid #666; background: #fff; color: #333; cursor: pointer; font-size: 12px; font-weight: bold; display: inline-flex; align-items: center; justify-content: center; }
    .dark-mode .csv-btn, .dark-mode .import-label, .dark-mode .settings-btn { background: #333; color: #fff; border-color: #555; }
    .add-trigger-btn { width: 100%; padding: 12px; background: #2196f3; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-bottom: 20px; font-size: 15px; }
    
    .photo-card { display: flex; align-items: flex-start; gap: 12px; border-bottom: 1px solid #eee; padding: 15px 10px; border-radius: 8px; position: relative; }
    .dark-mode .photo-card { border-color: #333; }
    .card-content { flex: 1; display: flex; flex-direction: column; gap: 10px; min-width: 0; }
    .is-wish { border: 2px solid #2196f3 !important; background: rgba(33, 150, 243, 0.05); }
    .wish-toggle { background: none; border: none; font-size: 20px; cursor: pointer; padding: 0; line-height: 1; filter: grayscale(1); opacity: 0.3; transition: 0.2s; }
    .wish-toggle.active { filter: grayscale(0); opacity: 1; }
    .name-display { font-weight: bold; cursor: pointer; border-bottom: 1px dashed transparent; display: inline-block; max-width: 80%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    /* 名前編集時の入力欄スタイル */
.edit-name-input {
  font-size: 14px;
  font-weight: bold;
  padding: 4px 8px;
  border: 2px solid #2196f3;
  border-radius: 6px;
  background: #fff;
  width: 100%;
  box-sizing: border-box;
  outline: none;
  box-shadow: 0 0 8px rgba(33, 150, 243, 0.3);
}

.dark-mode .edit-name-input {
  background: #333;
  color: #fff;
  border-color: #2196f3;
}
    .counter-group { display: inline-flex; align-items: center; background: #eee; border-radius: 6px; padding: 2px; border: 1px solid #ccc; }
    .dark-mode .counter-group { background: #222; border-color: #444; }
    .btn-qty { width: 30px; height: 30px; border: 1px solid #ccc; background: #fff; cursor: pointer; border-radius: 4px; font-weight: bold; }
    .qty-val { min-width: 24px; text-align: center; font-size: 14px; font-weight: bold; }
    .has-stock { background: #e8f5e9 !important; border-color: #4caf50 !important; }
    .has-sign { background: #fff3e0 !important; border-color: #ff9800 !important; }
    .is-complete { background: #fff9c4 !important; border-left: 5px solid #fbc02d !important; }
    
    .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.85); display: flex; align-items: center; justify-content: center; z-index: 1000; padding: 20px 0; }
    .modal-content { background: white; padding: 25px; border-radius: 16px; width: 90%; max-width: 400px; max-height: 90vh; overflow-y: auto; }
    .dark-mode .modal-content { background: #222; color: #fff; border: 1px solid #444; }
    .settings-list { list-style: none; padding: 0; margin: 15px 0; }
    .settings-list li { padding: 12px; border-bottom: 1px solid #eee; cursor: pointer; font-size: 14px; display: flex; align-items: center; gap: 10px; }
    .dark-mode .settings-list li { border-color: #333; }
    .settings-list li:hover { background: rgba(0,0,0,0.05); }
    .dark-mode .settings-list li:hover { background: rgba(255,255,255,0.05); }

    .row-inputs { display: flex; gap: 6px; align-items: center; width: 100%; }
.details-input { font-size: 11px; padding: 6px; border: 1px solid #ccc; border-radius: 4px; min-width: 0; height: 32px; box-sizing: border-box; }
    .source-select { font-size: 11px; padding: 0 4px; border: 1px solid #ccc; border-radius: 4px; height: 32px; width: 80px; flex-shrink: 0; }
    .dark-mode .source-select { background: #333; color: #fff; border-color: #555; }

    /* 価格入力の外枠：幅を90pxに固定し、円の位置の基準にする */
    .price-wrapper { 
      position: relative; 
      width: 90px; 
      flex-shrink: 0; 
    }

    /* 価格入力欄：右寄せにし、円と重ならない余白を作る */
    .price-wrapper .details-input { 
      width: 100%; 
      text-align: right; 
      padding-right: 20px; 
    }

    /* 円の単位：上下中央に配置 */
    .currency-unit { 
      position: absolute; 
      right: 6px; 
      top: 50%; 
      transform: translateY(-50%); 
      font-size: 10px; 
      color: #888; 
      pointer-events: none; 
    }
    
    .img-container { position: relative; width: 65px; flex-shrink: 0; }
    .btn-img-add { position: absolute; top: -8px; left: -8px; width: 22px; height: 22px; background: #2196f3; color: white; border-radius: 50%; border: 2px solid #fff; font-size: 12px; display: flex; align-items: center; justify-content: center; z-index: 10; cursor: pointer; }
    
    .lightbox { position: fixed; inset: 0; background: rgba(0,0,0,1); z-index: 2000; display: flex; flex-direction: column; align-items: center; justify-content: center; }
    .lightbox img { max-width: 95vw; max-height: 80vh; object-fit: contain; }
    .lightbox-close { position: absolute; top: 20px; right: 20px; color: white; font-size: 30px; cursor: pointer; }
    .lightbox-info { color: white; margin-top: 15px; text-align: center; }
    input[type="text"], select { width: 100%; padding: 8px; margin: 5px 0; box-sizing: border-box; border-radius: 4px; border: 1px solid #ccc; }
    .dark-mode input[type="text"], .dark-mode select { background: #333; color: #fff; border-color: #555; }
    .error-toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: #ff5252; color: white; padding: 12px 24px; border-radius: 50px; z-index: 2000; font-weight: bold; }

/* スマホで横幅が狭くなった時に、入力を2行に分ける設定 */
@media (max-width: 480px) {
  .row-inputs {
    gap: 8px;
  }
  .source-select {
    width: 45% !important; /* 入手先を少し広げる */
  }
  .price-wrapper {
    width: 45% !important; /* 価格を少し広げる */
  }
  .details-input[placeholder="メモ"] {
    width: 100% !important; /* メモを一行まるごと使う */
    order: 3; /* メモを一番下に配置 */
  }
}